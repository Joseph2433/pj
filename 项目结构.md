# 植物大战僵尸 - CMake + SFML 项目结构

```
PlantsVsZombies/
├── CMakeLists.txt                 # 主CMake配置文件
├── README.md                      # 项目说明文档
├── assets/                        # 游戏资源目录
│   ├── images/                    # 图片资源
│   │   ├── plants/               # 植物贴图
│   │   ├── zombies/              # 僵尸贴图
│   │   ├── projectiles/          # 子弹贴图
│   │   ├── ui/                   # UI界面贴图
│   │   └── background/           # 背景贴图
│   ├── sounds/                   # 音效资源
│   │   ├── sfx/                  # 音效文件
│   │   └── music/                # 背景音乐
│   └── fonts/                    # 字体文件
├── src/                          # 源代码目录
│   ├── main.cpp                  # 程序入口点
│   ├── Core/                     # 核心系统
│   │   ├── Game.h               # 游戏主类头文件
│   │   ├── Game.cpp             # 游戏主类实现
│   │   ├── GameState.h          # 游戏状态基类
│   │   ├── GameState.cpp        # 游戏状态基类实现
│   │   ├── StateManager.h       # 状态管理器
│   │   ├── StateManager.cpp     # 状态管理器实现
│   │   ├── ResourceManager.h    # 资源管理器
│   │   ├── ResourceManager.cpp  # 资源管理器实现
│   │   ├── Timer.h              # 计时器类
│   │   └── Timer.cpp            # 计时器类实现
│   ├── States/                   # 游戏状态
│   │   ├── MenuState.h          # 主菜单状态
│   │   ├── MenuState.cpp        # 主菜单状态实现
│   │   ├── GamePlayState.h      # 游戏进行状态
│   │   ├── GamePlayState.cpp    # 游戏进行状态实现
│   │   ├── PauseState.h         # 暂停状态
│   │   ├── PauseState.cpp       # 暂停状态实现
│   │   ├── GameOverState.h      # 游戏结束状态
│   │   └── GameOverState.cpp    # 游戏结束状态实现
│   ├── Entities/                 # 游戏实体
│   │   ├── Entity.h             # 实体基类
│   │   ├── Entity.cpp           # 实体基类实现
│   │   ├── Plant.h              # 植物基类
│   │   ├── Plant.cpp            # 植物基类实现
│   │   ├── Zombie.h             # 僵尸基类
│   │   ├── Zombie.cpp           # 僵尸基类实现
│   │   ├── Projectile.h         # 子弹基类
│   │   ├── Projectile.cpp       # 子弹基类实现
│   │   └── Sun.h                # 阳光类
│   │   └── Sun.cpp              # 阳光类实现
│   ├── Plants/                   # 具体植物类
│   │   ├── Peashooter.h         # 豌豆射手
│   │   ├── Peashooter.cpp       # 豌豆射手实现
│   │   ├── Sunflower.h          # 向日葵
│   │   ├── Sunflower.cpp        # 向日葵实现
│   │   ├── WallNut.h            # 坚果墙
│   │   ├── WallNut.cpp          # 坚果墙实现
│   │   ├── CherryBomb.h         # 樱桃炸弹
│   │   └── CherryBomb.cpp       # 樱桃炸弹实现
│   ├── Zombies/                  # 具体僵尸类
│   │   ├── BasicZombie.h        # 普通僵尸
│   │   ├── BasicZombie.cpp      # 普通僵尸实现
│   │   ├── ConeheadZombie.h     # 路障僵尸
│   │   ├── ConeheadZombie.cpp   # 路障僵尸实现
│   │   ├── BucketheadZombie.h   # 铁桶僵尸
│   │   └── BucketheadZombie.cpp # 铁桶僵尸实现
│   ├── Systems/                  # 游戏系统
│   │   ├── Grid.h               # 网格系统
│   │   ├── Grid.cpp             # 网格系统实现
│   │   ├── CollisionSystem.h    # 碰撞检测系统
│   │   ├── CollisionSystem.cpp  # 碰撞检测系统实现
│   │   ├── WaveManager.h        # 波次管理器
│   │   ├── WaveManager.cpp      # 波次管理器实现
│   │   ├── PlantManager.h       # 植物管理器
│   │   ├── PlantManager.cpp     # 植物管理器实现
│   │   ├── ZombieManager.h      # 僵尸管理器
│   │   └── ZombieManager.cpp    # 僵尸管理器实现
│   ├── UI/                       # UI界面组件
│   │   ├── Button.h             # 按钮类
│   │   ├── Button.cpp           # 按钮类实现
│   │   ├── SeedPacket.h         # 种子包类
│   │   ├── SeedPacket.cpp       # 种子包类实现
│   │   ├── ProgressBar.h        # 进度条类
│   │   ├── ProgressBar.cpp      # 进度条类实现
│   │   ├── HUD.h                # 游戏界面HUD
│   │   └── HUD.cpp              # 游戏界面HUD实现
│   └── Utils/                    # 工具类
│       ├── Constants.h          # 游戏常量定义
│       ├── Math.h               # 数学工具函数
│       ├── Math.cpp             # 数学工具函数实现
│       ├── Animation.h          # 动画类
│       ├── Animation.cpp        # 动画类实现
│       ├── SoundManager.h       # 音效管理器
│       └── SoundManager.cpp     # 音效管理器实现
├── include/                      # 头文件目录（如果需要）
├── lib/                         # 第三方库目录
├── build/                       # 构建输出目录
├── bin/                         # 可执行文件目录
└── docs/                        # 文档目录
    ├── design.md                # 设计文档
    ├── api.md                   # API文档
    └── gameplay.md              # 游戏玩法文档
```

## 主要目录说明

### src/Core/
核心系统包含游戏的基础架构。Game类是整个游戏的主控制器，负责初始化SFML窗口和游戏循环。StateManager管理不同的游戏状态切换，ResourceManager统一管理所有的纹理、音效等资源，避免重复加载。

### src/States/
游戏状态系统实现了状态机模式。每个状态都继承自GameState基类，有自己的更新逻辑、渲染逻辑和输入处理。这样可以清晰地分离不同游戏阶段的逻辑。

### src/Entities/
实体系统采用继承的设计模式。Entity是所有游戏对象的基类，包含位置、纹理、碰撞检测等基本功能。Plant、Zombie、Projectile等是更具体的基类，定义了各自类型的通用行为。

### src/Systems/
游戏系统负责管理游戏中的各种机制。Grid系统处理9x5的网格布局，CollisionSystem处理所有碰撞检测，WaveManager控制僵尸出现的时机和数量。

### assets/
资源目录按类型组织，方便资源管理和加载。图片按功能分类，音效分为短音效和背景音乐，字体文件单独存放。



